# Optimized .npmrc configuration for improved performance and maintainability in a monorepo

# Disable auto-installation of peer dependencies to avoid unexpected conflicts;
# manage them explicitly within each package.
auto-install-peers=false

# Use the 'isolated' node linker mode for better dependency isolation.
# This avoids the potential issues of hoisted packages and ensures that each package has its own controlled node_modules structure.
node-linker=isolated

# The 'shamefully-hoist' option is omitted to prevent flattening the dependency tree unnecessarily.
# This helps maintain strict dependency management and reduces the risk of hidden conflicts.

# Evaluate whether you truly need to hoist packages matching a specific pattern.
# If you need the 'protoc' packages to be available at the workspace root, you can enable the line below.
# Otherwise, it's better to manage these dependencies explicitly at the package level to keep the dependency graph clean.

# public-hoist-pattern[]=*protoc*